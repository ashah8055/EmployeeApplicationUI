{"version":3,"sources":["../source/MenuButton.js"],"names":["PureComponent","Component","ContextAwareMenuButton","props","context","registerMenuButton","toggleMenu","menuIsExpanded","MenuButton","onClick","event","preventDefault","storeButtonNode","node","button","unregister","element","link","className","MenuButtonIcon","icon","rest","propTypes","func","isRequired","bool","string","title","style","object","defaultProps"],"mappings":";;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AAEA;;AACA;;;;;;;;;;;;;;AAEA;AACA,IAAMA,gBAAgB,gBAAMA,aAAN,IAAuB,gBAAMC,SAAnD;;AAEA,IAAMC,yBAAyB,SAAzBA,sBAAyB,CAACC,KAAD;AAAA,QAC9B;AAAA,uBAAS,QAAT;AAAA;AACE,YAACC,OAAD;AAAA,UACA,8BAAC,UAAD,eACKD,KADL;AAEC,wBAAoBC,QAAQC,kBAF7B;AAGC,gBAAYD,QAAQE,UAHrB;AAIC,oBAAgBF,QAAQG,cAJzB,IADA;AAAA;AADF,EAD8B;AAAA,CAA/B;;kBAYeL,sB;IAETM,U;;;;;;;;;;;;;;4LAiDLC,O,GAAU,UAACC,KAAD,EACV;AACCA,SAAMC,cAAN;;AADD,OAGSL,UAHT,GAGwB,MAAKH,KAH7B,CAGSG,UAHT;;;AAKCA;AACA,G,QAEDM,e,GAAkB,UAACC,IAAD;AAAA,UAAU,MAAKC,MAAL,GAAcD,IAAxB;AAAA,G;;;;;sCAvBlB;AAAA;;AAAA,OACSR,kBADT,GACgC,KAAKF,KADrC,CACSE,kBADT;;;AAGC,QAAKU,UAAL,GAAkBV,mBACjB;AACAW,aAAU;AAAA,YAAM,OAAKF,MAAX;AAAA;AADV,IADiB,CAAlB;AAIA;;;yCAGD;AACC,QAAKC,UAAL;AACA;;;2BAcD;AAAA,gBAaG,KAAKZ,KAbR;AAAA,OAGEc,IAHF,UAGEA,IAHF;AAAA,OAIEC,SAJF,UAIEA,SAJF;AAAA,OAKSC,cALT,UAKEC,IALF;AAAA,OAMEb,cANF,UAMEA,cANF;AAAA,OASED,UATF,UASEA,UATF;AAAA,OAUED,kBAVF,UAUEA,kBAVF;AAAA,OAWKgB,IAXL;;AAeC,UACC;AAAA;AAAA;AACC,UAAM,KAAKT,eADZ;AAEC,WAAOK,IAFR;AAGC,cAAU,KAAKR,OAHhB;AAIC,gBAAY,0BAAW,mBAAX,EAAgCS,SAAhC;AAJb,OAKMG,IALN;AAOC,kCAAC,cAAD,IAAgB,UAAUd,cAA1B;AAPD,IADD;AAWA;;;;EAvFuBP,a,UAEjBsB,S,GACP;AACC;AACAjB,qBAAqB,oBAAUkB,IAAV,CAAeC,UAFrC;AAGClB,aAAa,oBAAUiB,IAAV,CAAeC,UAH7B;AAICjB,iBAAiB,oBAAUkB,IAAV,CAAeD,UAJjC;;AAMC;AACA;AACA;AACA;AACAP,OAAc,oBAAUS,MAAV,CAAiBF,UAVhC;;AAYC;AACAG,QAAc,oBAAUD,MAbzB;;AAeC;AACAN,OAAc,oBAAUG,IAAV,CAAeC,UAhB9B;;AAkBC;AACAN,YAAc,oBAAUQ,MAnBzB;;AAqBC;AACAE,QAAc,oBAAUC;AAtBzB,C,SAyBOC,Y,GACP;AACCb,OAAO,GADR;AAECG;AAFD,C","file":"MenuButton.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport { Context } from './PageAndMenu'\r\nimport MenuIcon from './MenuIcon'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\nconst ContextAwareMenuButton = (props) => (\r\n\t<Context.Consumer>\r\n\t\t{(context) => (\r\n\t\t\t<MenuButton\r\n\t\t\t\t{...props}\r\n\t\t\t\tregisterMenuButton={context.registerMenuButton}\r\n\t\t\t\ttoggleMenu={context.toggleMenu}\r\n\t\t\t\tmenuIsExpanded={context.menuIsExpanded}/>\r\n\t\t)}\r\n\t</Context.Consumer>\r\n)\r\n\r\nexport default ContextAwareMenuButton\r\n\r\nclass MenuButton extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// Context.\r\n\t\tregisterMenuButton : PropTypes.func.isRequired,\r\n\t\ttoggleMenu : PropTypes.func.isRequired,\r\n\t\tmenuIsExpanded : PropTypes.bool.isRequired,\r\n\r\n\t\t// A URL of the \"Menu\" page:\r\n\t\t// if a web browser has javascript disabled (e.g. Tor),\r\n\t\t// then the menu button will redirect to this Menu page URL.\r\n\t\t// If not set then won't redirect anywhere.\r\n\t\tlink        : PropTypes.string.isRequired,\r\n\r\n\t\t// HTML `title` attribute.\r\n\t\ttitle       : PropTypes.string,\r\n\r\n\t\t// Menu button icon component.\r\n\t\ticon        : PropTypes.func.isRequired,\r\n\r\n\t\t// CSS class.\r\n\t\tclassName   : PropTypes.string,\r\n\r\n\t\t// CSS style object.\r\n\t\tstyle       : PropTypes.object\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\tlink : '#',\r\n\t\ticon : MenuIcon\r\n\t}\r\n\r\n\tcomponentDidMount()\r\n\t{\r\n\t\tconst { registerMenuButton } = this.props\r\n\r\n\t\tthis.unregister = registerMenuButton\r\n\t\t({\r\n\t\t\telement : () => this.button\r\n\t\t})\r\n\t}\r\n\r\n\tcomponentWillUnmount()\r\n\t{\r\n\t\tthis.unregister()\r\n\t}\r\n\r\n\tonClick = (event) =>\r\n\t{\r\n\t\tevent.preventDefault()\r\n\r\n\t\tconst { toggleMenu } = this.props\r\n\r\n\t\ttoggleMenu()\r\n\t}\r\n\r\n\tstoreButtonNode = (node) => this.button = node\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tlink,\r\n\t\t\tclassName,\r\n\t\t\ticon : MenuButtonIcon,\r\n\t\t\tmenuIsExpanded,\r\n\r\n\t\t\t// Getting \"rest\" properties.\r\n\t\t\ttoggleMenu,\r\n\t\t\tregisterMenuButton,\r\n\t\t\t...rest\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\treturn (\r\n\t\t\t<a\r\n\t\t\t\tref={ this.storeButtonNode }\r\n\t\t\t\thref={ link }\r\n\t\t\t\tonClick={ this.onClick }\r\n\t\t\t\tclassName={ classNames('rrui__menu-button', className) }\r\n\t\t\t\t{ ...rest }>\r\n\r\n\t\t\t\t<MenuButtonIcon expanded={menuIsExpanded}/>\r\n\t\t\t</a>\r\n\t\t)\r\n\t}\r\n}"]}