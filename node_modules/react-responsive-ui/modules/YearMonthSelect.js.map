{"version":3,"sources":["../source/YearMonthSelect.js"],"names":["PureComponent","Component","YearMonthSelect","props","onChangeMonth","event","date","onChange","month","target","value","getMonth","Date","getFullYear","onChangeYear","year","restoreFocus","userHasJustChangedYearOrMonth","selectYearsIntoPast","selectYearsIntoFuture","selectedDay","localeUtils","current_year","from_year","to_year","years","Array","i","selected_year","unshift","push","months","getMonths","map","propTypes","instanceOf","func","isRequired","object"],"mappings":"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","file":"YearMonthSelect.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\n// http://react-day-picker.js.org/examples/?yearNavigation\r\n// Component will receive date, locale and localeUtils props\r\nexport default class YearMonthSelect extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\tdate : PropTypes.instanceOf(Date),\r\n\t\tonChange : PropTypes.func.isRequired,\r\n\t\tlocaleUtils : PropTypes.object\r\n\t}\r\n\r\n\tconstructor(props)\r\n\t{\r\n\t\tsuper(props)\r\n\r\n\t\tconst\r\n\t\t{\r\n\t\t\tselectYearsIntoPast,\r\n\t\t\tselectYearsIntoFuture,\r\n\t\t\tselectedDay,\r\n\t\t\tlocaleUtils\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\t// The current year in the user's time zone.\r\n\t\tconst current_year = new Date().getFullYear()\r\n\r\n\t\tconst from_year = selectYearsIntoPast   ? current_year - selectYearsIntoPast   : current_year\r\n\t\tconst   to_year = selectYearsIntoFuture ? current_year + selectYearsIntoFuture : current_year\r\n\r\n\t\tconst years = new Array(to_year - from_year + 1)\r\n\r\n\t\tlet i = 0\r\n\t\twhile (from_year + i <= to_year)\r\n\t\t{\r\n\t\t\tyears[i] = from_year + i\r\n\t\t\ti++\r\n\t\t}\r\n\r\n\t\t// Makes sure the currently selected year is in the list\r\n\t\t// to not confuse the user.\r\n\t\tif (selectedDay)\r\n\t\t{\r\n\t\t\tconst selected_year = selectedDay.getFullYear()\r\n\r\n\t\t\tif (selected_year < from_year)\r\n\t\t\t{\r\n\t\t\t\tyears.unshift(selected_year)\r\n\t\t\t}\r\n\t\t\telse if (selected_year > to_year)\r\n\t\t\t{\r\n\t\t\t\tyears.push(selected_year)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst months = localeUtils.getMonths()\r\n\r\n\t\tthis.months = months\r\n\t\tthis.years = years\r\n\t}\r\n\r\n\tonChangeMonth = (event) =>\r\n\t{\r\n\t\tconst { date, onChange } = this.props\r\n\r\n\t\tconst month = event.target.value\r\n\r\n\t\tif (month !== date.getMonth())\r\n\t\t{\r\n\t\t\t// The date created is in the user's time zone and the time is `00:00`.\r\n\t\t\t// The `day` is `undefined` which means the first one of the `month`.\r\n\t\t\tonChange(new Date(date.getFullYear(), month))\r\n\t\t}\r\n\r\n\t\t// restoreFocus()\r\n\t}\r\n\r\n\tonChangeYear = (event) =>\r\n\t{\r\n\t\tconst { date, onChange } = this.props\r\n\r\n\t\tconst year = event.target.value\r\n\r\n\t\tif (year !== date.getFullYear())\r\n\t\t{\r\n\t\t\t// The date created is in the user's time zone and the time is `00:00`.\r\n\t\t\t// The `day` is `undefined` which means the first one of the `month`.\r\n\t\t\tonChange(new Date(year, date.getMonth()))\r\n\t\t}\r\n\r\n\t\t// restoreFocus()\r\n\t}\r\n\r\n\trestoreFocus = () =>\r\n\t{\r\n\t\tconst { userHasJustChangedYearOrMonth } = this.props\r\n\r\n\t\t// Doesn't work on iOS\r\n\t\t// focus()\r\n\r\n\t\t// A hack for iOS when it collapses\r\n\t\t// the calendar after selecting a year/month.\r\n\t\t// Known bug: it won't work when a user\r\n\t\t// focuses one `<select/>` and then focuses another one\r\n\t\t// because in that case `onBlur` won't be triggered for the second `<select/>`.\r\n\t\tuserHasJustChangedYearOrMonth()\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\tconst { date } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"DayPicker-Caption\">\r\n\t\t\t\t<div className=\"DayPicker-CaptionSelects\">\r\n\t\t\t\t\t<div className=\"DayPicker-MonthSelect\">\r\n\t\t\t\t\t\t{/* Month `<select/>` */}\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tonChange={ this.onChangeMonth }\r\n\t\t\t\t\t\t\tonBlur={ this.restoreFocus }\r\n\t\t\t\t\t\t\tvalue={ date.getMonth() }\r\n\t\t\t\t\t\t\ttabIndex={ -1 }\r\n\t\t\t\t\t\t\tclassName=\"rrui__select__native rrui__select__native--overlay\">\r\n\r\n\t\t\t\t\t\t\t{ this.months.map((month, i) => (\r\n\t\t\t\t\t\t\t\t<option key={ i } value={ i }>\r\n\t\t\t\t\t\t\t\t\t{ month }\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t)) }\r\n\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t{/* Month `<select/>` button */}\r\n\t\t\t\t\t\t<button type=\"button\" className=\"rrui__button-reset\">\r\n\t\t\t\t\t\t\t<div className=\"rrui__select__selected-content\">\r\n\t\t\t\t\t\t\t\t<div className=\"rrui__select__selected-label\">\r\n\t\t\t\t\t\t\t\t\t{this.months[date.getMonth()]}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"rrui__select__arrow\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"DayPicker-YearSelect\">\r\n\t\t\t\t\t\t{/* Year `<select/>` */}\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tonChange={ this.onChangeYear }\r\n\t\t\t\t\t\t\tonBlur={ this.restoreFocus }\r\n\t\t\t\t\t\t\tvalue={ date.getFullYear() }\r\n\t\t\t\t\t\t\ttabIndex={ -1 }\r\n\t\t\t\t\t\t\tclassName=\"rrui__select__native rrui__select__native--overlay\">\r\n\r\n\t\t\t\t\t\t\t{ this.years.map((year, i) => (\r\n\t\t\t\t\t\t\t\t<option key={ i } value={ year }>\r\n\t\t\t\t\t\t\t\t\t{ year }\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t)) }\r\n\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t{/* Year `<select/>` button */}\r\n\t\t\t\t\t\t<button type=\"button\" className=\"rrui__button-reset\">\r\n\t\t\t\t\t\t\t<div className=\"rrui__select__selected-content\">\r\n\t\t\t\t\t\t\t\t<div className=\"rrui__select__selected-label\">\r\n\t\t\t\t\t\t\t\t\t{date.getFullYear()}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"rrui__select__arrow\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}"]}