{"version":3,"sources":["../source/edit.js"],"names":["edit","value","caret","operation","slice"],"mappings":";;;;;kBAgBwBA,I;AAhBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASA,IAAT,CAAcC,KAAd,EAAqBC,KAArB,EAA4BC,SAA5B,EACf;AACC,SAAQA,SAAR;AAEC,OAAK,WAAL;AACC;AACA;AACA,OAAID,QAAQ,CAAZ,EACA;AACC;AACAD,YAAQA,MAAMG,KAAN,CAAY,CAAZ,EAAeF,QAAQ,CAAvB,IAA4BD,MAAMG,KAAN,CAAYF,KAAZ,CAApC;AACA;AACAA;AACA;AACD;;AAED,OAAK,QAAL;AACC;AACAD,WAAQA,MAAMG,KAAN,CAAY,CAAZ,EAAeF,KAAf,IAAwBD,MAAMG,KAAN,CAAYF,QAAQ,CAApB,CAAhC;AACA;AAjBF;;AAoBA,QAAO,EAAED,YAAF,EAASC,YAAT,EAAP;AACA","file":"edit.js","sourcesContent":["// Edits text `value` (if `operation` is passed) and repositions the `caret` if needed.\r\n//\r\n// Example:\r\n//\r\n// value - '88005553535'\r\n// caret - 2 // starting from 0; is positioned before the first zero\r\n// operation - 'Backspace'\r\n//\r\n// Returns\r\n// {\r\n// \tvalue: '8005553535'\r\n// \tcaret: 1\r\n// }\r\n//\r\n// Currently supports just 'Delete' and 'Backspace' operations\r\n//\r\nexport default function edit(value, caret, operation)\r\n{\r\n\tswitch (operation)\r\n\t{\r\n\t\tcase 'Backspace':\r\n\t\t\t// If there exists the previous character,\r\n\t\t\t// then erase it and reposition the caret.\r\n\t\t\tif (caret > 0)\r\n\t\t\t{\r\n\t\t\t\t// Remove the previous character\r\n\t\t\t\tvalue = value.slice(0, caret - 1) + value.slice(caret)\r\n\t\t\t\t// Position the caret where the previous (erased) character was\r\n\t\t\t\tcaret--\r\n\t\t\t}\r\n\t\t\tbreak\r\n\r\n\t\tcase 'Delete':\r\n\t\t\t// Remove current digit (if any)\r\n\t\t\tvalue = value.slice(0, caret) + value.slice(caret + 1)\r\n\t\t\tbreak\r\n\t}\r\n\r\n\treturn { value, caret }\r\n}"]}