{"version":3,"sources":["../source/List.js"],"names":["findItemIndexByValue","PureComponent","Component","DividerType","type","List","state","itemRefs","getFocusedItemIndex","focusedItemIndex","unfocus","setState","undefined","focusedItemValue","focus","focusItem","getFirstFocusableItemIndex","props","onFocusItem","shouldFocus","getItemValue","onKeyDown","event","children","defaultPrevented","input","ctrlKey","altKey","shiftKey","metaKey","Children","count","keyCode","preventDefault","previousIndex","getPreviousFocusableItemIndex","nextIndex","getNextFocusableItemIndex","click","tagName","toLowerCase","isFocusableItemIndex","index","isFocusableItem","item","storeListNode","node","list","storeItemRef","ref","i","length","toArray","value","disabled","tabbable","onChange","onSelectItem","highlightSelectedItem","shouldCreateButtons","className","style","map","ItemType","Error","cloneElement","key","itemRef","focused","tabIndex","shouldCreateButton","selectedItemValue","newState","items","focusFirstItemWhenItemsChange","propTypes","any","func","arrayOf","object","bool","isRequired","defaultProps","Item","onMouseDown","isSelectable","onFocus","onClick","onSelect","storeRef","icon","properties","ItemComponent","itemChildren","label","unshift","createElement","number","haveItemsChanged","prevProps","prevItems"],"mappings":"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","file":"List.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\nimport { polyfill as reactLifecyclesCompat } from 'react-lifecycles-compat'\r\n\r\nimport Divider from './Divider'\r\n\r\nimport { submitFormOnCtrlEnter } from './utility/dom'\r\nimport { focus } from './utility/focus'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\n// Workaround for `react-hot-loader`.\r\n// https://github.com/gaearon/react-hot-loader#checking-element-types\r\nconst DividerType = <Divider/>.type\r\n\r\n@reactLifecyclesCompat\r\nexport default class List extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\tvalue : PropTypes.any,\r\n\t\tonChange : PropTypes.func,\r\n\r\n\t\t// If `items` property is supplied then it's used to\r\n\t\t// detect \"on items changed\" event in `getDerivedStateFromProps`.\r\n\t\t// It seems to be the only usage of the `items` property.\r\n\t\titems : PropTypes.arrayOf(PropTypes.object),\r\n\r\n\t\t// Legacy method, use `onChange` instead.\r\n\t\tonSelectItem : PropTypes.func,\r\n\t\thighlightSelectedItem : PropTypes.bool.isRequired,\r\n\r\n\t\tonFocusItem : PropTypes.func,\r\n\t\tonKeyDown : PropTypes.func,\r\n\r\n\t\ttabbable : PropTypes.bool.isRequired,\r\n\t\tshouldFocus : PropTypes.bool.isRequired,\r\n\t\tfocusFirstItemWhenItemsChange : PropTypes.bool.isRequired,\r\n\t\tshouldCreateButtons : PropTypes.bool.isRequired\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\ttabbable : true,\r\n\t\tshouldFocus : true,\r\n\t\tfocusFirstItemWhenItemsChange : false,\r\n\t\tshouldCreateButtons : true,\r\n\t\thighlightSelectedItem : true\r\n\t}\r\n\r\n\tstatic getDerivedStateFromProps(props, state)\r\n\t{\r\n\t\tconst newState =\r\n\t\t{\r\n\t\t\titems : props.items\r\n\t\t}\r\n\r\n\t\t// If `items` property is supplied\r\n\t\t// then it's used to detect \"on items changed\" event.\r\n\t\tif (state.items && state.items !== props.items)\r\n\t\t{\r\n\t\t\tnewState.items = props.items\r\n\r\n\t\t\t// Focus the first item.\r\n\t\t\tif (props.focusFirstItemWhenItemsChange)\r\n\t\t\t{\r\n\t\t\t\tnewState.focusedItemValue = props.items[0].value\r\n\t\t\t\tnewState.focusedItemIndex = 0\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (state.selectedItemValue !== props.value)\r\n\t\t{\r\n\t\t\tnewState.selectedItemValue = props.value\r\n\r\n\t\t\tnewState.focusedItemValue = props.value\r\n\t\t\tnewState.focusedItemIndex = props.value === undefined ? undefined : findItemIndexByValue(props.value, props.children)\r\n\t\t}\r\n\r\n\t\treturn newState\r\n\t}\r\n\r\n\tstate = {}\r\n\r\n\t// `ref`s of all items currently rendered.\r\n\titemRefs = []\r\n\r\n\tgetFocusedItemIndex = () =>\r\n\t{\r\n\t\tconst { focusedItemIndex } = this.state\r\n\r\n\t\treturn focusedItemIndex\r\n\t}\r\n\r\n\tunfocus = () =>\r\n\t{\r\n\t\tthis.setState\r\n\t\t({\r\n\t\t\tfocusedItemIndex : undefined,\r\n\t\t\tfocusedItemValue : undefined\r\n\t\t})\r\n\t}\r\n\r\n\t// Focuses on the list.\r\n\tfocus = () =>\r\n\t{\r\n\t\tconst { focusedItemIndex } = this.state\r\n\r\n\t\tif (focusedItemIndex !== undefined) {\r\n\t\t\treturn this.focusItem(focusedItemIndex)\r\n\t\t}\r\n\r\n\t\t// Focus the first focusable list item.\r\n\t\tthis.focusItem(this.getFirstFocusableItemIndex())\r\n\t}\r\n\r\n\tgetFirstFocusableItemIndex()\r\n\t{\r\n\t\tlet i = 0\r\n\t\twhile (i < this.itemRefs.length)\r\n\t\t{\r\n\t\t\tif (this.itemRefs[i]) {\r\n\t\t\t\treturn i\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetItemValue(index)\r\n\t{\r\n\t\tconst { children } = this.props\r\n\r\n\t\tconst item = React.Children.toArray(children)[index]\r\n\t\treturn item.props.value\r\n\t}\r\n\r\n\tfocusItem = (focusedItemIndex) =>\r\n\t{\r\n\t\tconst { onFocusItem, shouldFocus } = this.props\r\n\r\n\t\tthis.setState\r\n\t\t({\r\n\t\t\t// Focus the item.\r\n\t\t\tfocusedItemIndex,\r\n\t\t\t// Store the focused item value.\r\n\t\t\t// This is used for cases like autocomplete\r\n\t\t\t// where the list of options changes but\r\n\t\t\t// the focused option stays focused.\r\n\t\t\tfocusedItemValue: focusedItemIndex === undefined ? undefined : this.getItemValue(focusedItemIndex)\r\n\t\t},\r\n\t\t() =>\r\n\t\t{\r\n\t\t\tif (focusedItemIndex !== undefined)\r\n\t\t\t{\r\n\t\t\t\tif (shouldFocus) {\r\n\t\t\t\t\tfocus(this.itemRefs[focusedItemIndex])\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (onFocusItem) {\r\n\t\t\t\t\tonFocusItem(focusedItemIndex)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tonKeyDown = (event) =>\r\n\t{\r\n\t\tconst { onKeyDown, children } = this.props\r\n\t\tconst { focusedItemIndex } = this.state\r\n\r\n\t\tif (onKeyDown) {\r\n\t\t\tonKeyDown(event)\r\n\t\t}\r\n\r\n\t\tif (event.defaultPrevented) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (submitFormOnCtrlEnter(event, this.input)) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (event.ctrlKey || event.altKey || event.shiftKey || event.metaKey) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (React.Children.count(children) > 0)\r\n\t\t{\r\n\t\t\tswitch (event.keyCode)\r\n\t\t\t{\r\n\t\t\t\t// \"Up\" arrow.\r\n\t\t\t\t// Select the previous item (if present).\r\n\t\t\t\tcase 38:\r\n\t\t\t\t\tevent.preventDefault()\r\n\r\n\t\t\t\t\tconst previousIndex = this.getPreviousFocusableItemIndex()\r\n\r\n\t\t\t\t\tif (previousIndex !== undefined) {\r\n\t\t\t\t\t\tthis.focusItem(previousIndex)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn\r\n\r\n\t\t\t\t// \"Down\" arrow.\r\n\t\t\t\t// Select the next item (if present).\r\n\t\t\t\tcase 40:\r\n\t\t\t\t\tevent.preventDefault()\r\n\r\n\t\t\t\t\tconst nextIndex = this.getNextFocusableItemIndex()\r\n\r\n\t\t\t\t\tif (nextIndex !== undefined) {\r\n\t\t\t\t\t\tthis.focusItem(nextIndex)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn\r\n\r\n\t\t\t\t// \"Enter\".\r\n\t\t\t\tcase 13:\r\n\t\t\t\t\t// Choose the focused item on Enter\r\n\t\t\t\t\tevent.preventDefault()\r\n\r\n\t\t\t\t\tif (focusedItemIndex !== undefined) {\r\n\t\t\t\t\t\tthis.itemRefs[focusedItemIndex].click()\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn\r\n\r\n\t\t\t\t// \"Spacebar\".\r\n\t\t\t\tcase 32:\r\n\t\t\t\t\t// Choose the focused item on Spacebar.\r\n\t\t\t\t\tif (focusedItemIndex !== undefined)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (this.itemRefs[focusedItemIndex].tagName.toLowerCase() !== 'button')\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tevent.preventDefault()\r\n\t\t\t\t\t\t\tthis.itemRefs[focusedItemIndex].click()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Get the previous option (relative to the currently focused option)\r\n\tgetPreviousFocusableItemIndex()\r\n\t{\r\n\t\tconst { children } = this.props\r\n\t\tlet { focusedItemIndex } = this.state\r\n\r\n\t\tif (focusedItemIndex === undefined) {\r\n\t\t\tfocusedItemIndex = React.Children.count(children)\r\n\t\t}\r\n\r\n\t\twhile (focusedItemIndex > 0) {\r\n\t\t\tfocusedItemIndex--\r\n\t\t\tif (this.isFocusableItemIndex(focusedItemIndex)) {\r\n\t\t\t\treturn focusedItemIndex\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Get the next option (relative to the currently focused option)\r\n\tgetNextFocusableItemIndex()\r\n\t{\r\n\t\tconst { children } = this.props\r\n\t\tlet { focusedItemIndex } = this.state\r\n\r\n\t\tif (focusedItemIndex === undefined) {\r\n\t\t\tfocusedItemIndex = -1\r\n\t\t}\r\n\r\n\t\twhile (focusedItemIndex < React.Children.count(children) - 1) {\r\n\t\t\tfocusedItemIndex++\r\n\t\t\tif (this.isFocusableItemIndex(focusedItemIndex)) {\r\n\t\t\t\treturn focusedItemIndex\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tisFocusableItemIndex = (index) => this.itemRefs[index] !== undefined\r\n\r\n\tisFocusableItem = (item) => item.type !== DividerType\r\n\r\n\t// `this.list` is also being accessed from `<ScrollableList/>`.\r\n\tstoreListNode = (node) => this.list = node\r\n\r\n\tstoreItemRef = (ref, i) => this.itemRefs[i] = ref\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tdisabled,\r\n\t\t\ttabbable,\r\n\t\t\tvalue,\r\n\t\t\tonChange,\r\n\t\t\t// `onSelectItem` is deprecated, use `onChange` instead.\r\n\t\t\tonSelectItem,\r\n\t\t\thighlightSelectedItem,\r\n\t\t\tshouldCreateButtons,\r\n\t\t\tclassName,\r\n\t\t\tstyle,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst { focusedItemIndex } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<ul\r\n\t\t\t\tref={ this.storeListNode }\r\n\t\t\t\tonKeyDown={ this.onKeyDown }\r\n\t\t\t\tstyle={ style }\r\n\t\t\t\tclassName={ classNames(className, 'rrui__list') }>\r\n\r\n\t\t\t\t{ React.Children.map(children, (item, i) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tif (item.type !== ItemType) {\r\n\t\t\t\t\t\tthrow new Error(`Only <List.Item/>s can be placed inside a <List/> (and remove any whitespace).`)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn React.cloneElement(item,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkey       : i,\r\n\t\t\t\t\t\tindex     : i,\r\n\t\t\t\t\t\titemRef   : this.isFocusableItem(item) ? this.storeItemRef : undefined,\r\n\t\t\t\t\t\tfocus     : this.focusItem,\r\n\t\t\t\t\t\tfocused   : focusedItemIndex === i,\r\n\t\t\t\t\t\tdisabled  : disabled || item.props.disabled,\r\n\t\t\t\t\t\ttabIndex  : tabbable && (focusedItemIndex === undefined ? i === 0 : focusedItemIndex === i) ? 0 : -1,\r\n\t\t\t\t\t\tshouldCreateButton : shouldCreateButtons,\r\n\t\t\t\t\t\tonSelectItem : onChange || onSelectItem,\r\n\t\t\t\t\t\tselectedItemValue : value,\r\n\t\t\t\t\t\thighlightSelectedItem : (onChange || onSelectItem) && highlightSelectedItem\r\n\t\t\t\t\t})\r\n\t\t\t\t}) }\r\n\t\t\t</ul>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport class Item extends React.Component\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\tvalue : PropTypes.any,\r\n\t\tindex : PropTypes.number,\r\n\t\tfocused : PropTypes.bool,\r\n\t\tonClick : PropTypes.func,\r\n\t\t// `onSelect` is deprecated, use `onClick` instead.\r\n\t\tonSelect : PropTypes.func,\r\n\t\tonSelectItem : PropTypes.func,\r\n\t\tselectedItemValue : PropTypes.any,\r\n\t\thighlightSelectedItem : PropTypes.bool,\r\n\t\tshouldCreateButton : PropTypes.bool\r\n\t}\r\n\r\n\tonMouseDown = (event) =>\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tvalue,\r\n\t\t\tindex,\r\n\t\t\tfocus,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\t// If `<List.Item/>` child element gets wrapped in a `<button/>`\r\n\t\t// then call `onMouseDown` defined on the `<List.Item/>`.\r\n\t\t// If `<List.Item/>` child element doesn't get wrapped in a `<button/>`\r\n\t\t// then manually call `onMouseDown` defined on the `<List.Item/>` child element\r\n\t\t// because `onMouseDown` gets overridden for `<List.Item/>` child element.\r\n\r\n\t\tconst onMouseDown = this.shouldCreateButton() ? this.props.onMouseDown : children.props.onMouseDown\r\n\r\n\t\t// Without this Safari (both mobile and desktop)\r\n\t\t// won't select any item in an expanded list\r\n\t\t// because it will collapse the list immediately\r\n\t\t// on `mouseDown` due to `blur` event being fired.\r\n\t\tevent.preventDefault()\r\n\r\n\t\tif (this.isSelectable()) {\r\n\t\t\tfocus(index)\r\n\t\t}\r\n\r\n\t\tif (onMouseDown) {\r\n\t\t\tonMouseDown(event)\r\n\t\t}\r\n\t}\r\n\r\n\tonFocus = (event) =>\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tvalue,\r\n\t\t\tfocus,\r\n\t\t\tindex,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\t// If `<List.Item/>` child element gets wrapped in a `<button/>`\r\n\t\t// then call `onFocus` defined on the `<List.Item/>`.\r\n\t\t// If `<List.Item/>` child element doesn't get wrapped in a `<button/>`\r\n\t\t// then manually call `onFocus` defined on the `<List.Item/>` child element\r\n\t\t// because `onFocus` gets overridden for `<List.Item/>` child element.\r\n\r\n\t\tconst onFocus = this.shouldCreateButton() ? this.props.onFocus : children.props.onFocus\r\n\r\n\t\tif (this.isSelectable()) {\r\n\t\t\tfocus(index)\r\n\t\t}\r\n\r\n\t\tif (onFocus) {\r\n\t\t\tonFocus(event)\r\n\t\t}\r\n\t}\r\n\r\n\tonClick = (event) =>\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tonClick,\r\n\t\t\tonSelect,\r\n\t\t\tonSelectItem,\r\n\t\t\tindex,\r\n\t\t\tvalue,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\t// If `<List.Item/>` child element gets wrapped in a `<button/>`\r\n\t\t// then call `onClick` defined on the `<List.Item/>`.\r\n\t\t// If `<List.Item/>` child element doesn't get wrapped in a `<button/>`\r\n\t\t// then manually call `onClick` defined on the `<List.Item/>` child element\r\n\t\t// because `onClick` gets overridden for `<List.Item/>` child element,\r\n\t\t// and also call `onClick` defined on the `<List.Item/>` (if any).\r\n\r\n\t\tif (onClick) {\r\n\t\t\tonClick(event)\r\n\t\t}\r\n\r\n\t\tif (!this.shouldCreateButton()) {\r\n\t\t\t// Since `onClick` gets overridden\r\n\t\t\t// for `<List.Item/>` child element\r\n\t\t\t// call its original `onClick` manually here.\r\n\t\t\tif (children.props.onClick) {\r\n\t\t\t\tchildren.props.onClick(event)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.isSelectable())\r\n\t\t{\r\n\t\t\tif (onSelect) {\r\n\t\t\t\tonSelect(value, index)\r\n\t\t\t}\r\n\t\t\tif (onSelectItem) {\r\n\t\t\t\tonSelectItem(value, index)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tisSelectable()\r\n\t{\r\n\t\tconst { children } = this.props\r\n\t\treturn children.type !== DividerType\r\n\t}\r\n\r\n\tfocus = () =>\r\n\t{\r\n\t\tconst { children } = this.props\r\n\r\n\t\tfocus(React.Children.toArray(children)[0])\r\n\t}\r\n\r\n\tstoreRef = (ref) =>\r\n\t{\r\n\t\tconst { itemRef, index } = this.props\r\n\r\n\t\tif (itemRef) {\r\n\t\t\titemRef(ref, index)\r\n\t\t}\r\n\t}\r\n\r\n\tshouldCreateButton()\r\n\t{\r\n\t\tconst {\r\n\t\t\tonClick,\r\n\t\t\tonSelect,\r\n\t\t\tonSelectItem,\r\n\t\t\tshouldCreateButton\r\n\t\t} = this.props\r\n\r\n\t\treturn this.isSelectable() && (onClick || onSelect || (onSelectItem && shouldCreateButton))\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tvalue,\r\n\t\t\ticon,\r\n\t\t\tfocused,\r\n\t\t\tdisabled,\r\n\t\t\tclassName,\r\n\t\t\ttabIndex,\r\n\t\t\thighlightSelectedItem,\r\n\t\t\tselectedItemValue,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\t// Throws an error for some weird reason.\r\n\t\t// React.Children.only(children)\r\n\r\n\t\tif (React.Children.count(children) !== 1) {\r\n\t\t\tthrow new Error(`Each <List.Item/> must have a single child (and remove any whitespace).`)\r\n\t\t}\r\n\r\n\t\tconst properties =\r\n\t\t{\r\n\t\t\tref          : this.storeRef,\r\n\t\t\tonMouseDown  : this.onMouseDown,\r\n\t\t\tonClick      : this.onClick,\r\n\t\t\tonFocus      : this.onFocus,\r\n\t\t\tclassName    : classNames\r\n\t\t\t(\r\n\t\t\t\tclassName,\r\n\t\t\t\t'rrui__list__item',\r\n\t\t\t\t{\r\n\t\t\t\t\t'rrui__list__item--focused'  : focused,\r\n\t\t\t\t\t'rrui__list__item--selected' : highlightSelectedItem && this.shouldCreateButton() && value === selectedItemValue,\r\n\t\t\t\t\t'rrui__list__item--disabled' : disabled,\r\n\t\t\t\t\t'rrui__list__item--divider'  : children.type === DividerType\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tlet ItemComponent\r\n\t\tlet itemChildren\r\n\t\tlet label\r\n\r\n\t\tif (this.shouldCreateButton())\r\n\t\t{\r\n\t\t\tItemComponent = 'button'\r\n\t\t\tlabel = this.props.label || children\r\n\t\t\tproperties.type = 'button'\r\n\t\t\tproperties['aria-label'] = label\r\n\t\t\tproperties.tabIndex = tabIndex\r\n\t\t\tproperties.disabled = disabled\r\n\t\t\tproperties.className = classNames(properties.className, 'rrui__button-reset', 'rrui__list__item--button')\r\n\r\n\t\t\t// Replace `itemChildren` array with `<React.Fragment/>`\r\n\t\t\t// in some future when React >= 16.2.0 is common.\r\n\t\t\t//\r\n\t\t\t// <React.Fragment>\r\n\t\t\t// \t{/* Icon. */}\r\n\t\t\t// \t{ icon &&\r\n\t\t\t// \t\t<div className=\"rrui__list__item-icon\">\r\n\t\t\t// \t\t\t{ React.createElement(icon, { value, label }) }\r\n\t\t\t// \t\t</div>\r\n\t\t\t// \t}\r\n\t\t\t//\r\n\t\t\t// \t{/* Label (or content). */}\r\n\t\t\t// \t{ children }\r\n\t\t\t// </React.Fragment>\r\n\r\n\t\t\t// Label (or content).\r\n\t\t\titemChildren = React.Children.toArray(children)\r\n\r\n\t\t\t// Icon.\r\n\t\t\tif (icon)\r\n\t\t\t{\r\n\t\t\t\titemChildren.unshift((\r\n\t\t\t\t\t<div key='icon' className=\"rrui__list__item-icon\">\r\n\t\t\t\t\t\t{ React.createElement(icon, { value, label }) }\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// Don't overwrite `className` already defined on the `children`.\r\n\t\t\tproperties.className = classNames(properties.className, children.props && children.props.className)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<li className=\"rrui__list__list-item\">\r\n\t\t\t\t{ ItemComponent && React.createElement(ItemComponent, properties, itemChildren) }\r\n\t\t\t\t{ !ItemComponent && React.cloneElement(children, properties) }\r\n\t\t\t</li>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nList.Item = Item\r\n\r\n// Workaround for `react-hot-loader`.\r\n// https://github.com/gaearon/react-hot-loader#checking-element-types\r\nconst ItemType = <Item/>.type\r\n\r\nfunction haveItemsChanged(props, prevProps)\r\n{\r\n\tconst items     = React.Children.toArray(props.children)\r\n\tconst prevItems = React.Children.toArray(prevProps.children)\r\n\r\n\tif (items.length !== prevItems.length) {\r\n\t\treturn true\r\n\t}\r\n\r\n\tlet i = 0\r\n\twhile (i < items.length)\r\n\t{\r\n\t\tif (items[i].props.value !== prevItems[i].props.value) {\r\n\t\t\treturn true\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n\r\n\treturn false\r\n}\r\n\r\nexport function findItemIndexByValue(value, children)\r\n{\r\n\tconst items = React.Children.toArray(children)\r\n\r\n\tlet i = 0\r\n\tfor (const item of items)\r\n\t{\r\n\t\tif (item.props.value === value) {\r\n\t\t\treturn i\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n\r\n\t// The item could be missing due to being trimmed by `maxOptions` in `Autocomplete`.\r\n\t// console.error(`Item with value ${value} not found in a <List/>. Available values: ${items.length > 0 ? items.map(_ => _.props.value).join(', ') : '(none)'}.`)\r\n}"]}