{"version":3,"sources":["../source/SlideOutMenu.js"],"names":["PureComponent","Component","ContextAwareSlideoutMenu","slideOutMenu","show","current","hide","props","context","registerMenu","toggleMenu","SlideoutMenu","state","storeInstance","ref","menu","unregister","setState","toggle","callback","isShown","element","anchor","fullscreen","className","style","children","propTypes","oneOf","isRequired","bool","func","object","string","defaultProps"],"mappings":"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","file":"SlideOutMenu.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\nimport createRef from 'react-create-ref'\r\n\r\nimport { Context } from './PageAndMenu'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\nexport default class ContextAwareSlideoutMenu extends PureComponent {\r\n\tslideOutMenu = createRef()\r\n\tshow = () => this.slideOutMenu.current.show()\r\n\thide = () => this.slideOutMenu.current.hide()\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Context.Consumer>\r\n\t\t\t\t{context => (\r\n\t\t\t\t\t<SlideoutMenu\r\n\t\t\t\t\t\tref={this.slideOutMenu}\r\n\t\t\t\t\t\t{...this.props}\r\n\t\t\t\t\t\tregisterMenu={context.registerMenu}\r\n\t\t\t\t\t\ttoggleMenu={context.toggleMenu}/>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</Context.Consumer>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n// const ContextAwareSlideoutMenu = (props) => (\r\n// \t<Context.Consumer>\r\n// \t\t{context => (\r\n// \t\t\t<SlideoutMenu\r\n// \t\t\t\t{...props}\r\n// \t\t\t\tregisterMenu={context.registerMenu}\r\n// \t\t\t\ttoggleMenu={context.toggleMenu}/>\r\n// \t\t\t)\r\n// \t\t}\r\n// \t</Context.Consumer>\r\n// )\r\n\r\n// export default ContextAwareSlideoutMenu\r\n\r\n// Swipeable feature example source code:\r\n// https://github.com/mui-org/material-ui/blob/v1-beta/packages/material-ui/src/SwipeableDrawer/SwipeableDrawer.js\r\n\r\n// A slideout menu.\r\nclass SlideoutMenu extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\tanchor : PropTypes.oneOf([\r\n\t\t\t'left',\r\n\t\t\t'right',\r\n\t\t\t'top',\r\n\t\t\t'bottom'\r\n\t\t]).isRequired,\r\n\r\n\t\t// isOpen : PropTypes.bool.isRequired,\r\n\r\n\t\tfullscreen : PropTypes.bool.isRequired,\r\n\r\n\t\ttoggleMenu   : PropTypes.func.isRequired,\r\n\t\tregisterMenu : PropTypes.func.isRequired,\r\n\r\n\t\t// CSS style object\r\n\t\tstyle : PropTypes.object,\r\n\r\n\t\t// CSS class\r\n\t\tclassName : PropTypes.string\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\t// isOpen : false,\r\n\t\tanchor : 'left',\r\n\t\tfullscreen : false\r\n\t}\r\n\r\n\tstate = {\r\n\t\t// show: this.props.isOpen\r\n\t\tshow: false\r\n\t}\r\n\r\n\tcomponentDidMount()\r\n\t{\r\n\t\tconst { registerMenu } = this.props\r\n\t\tconst { show } = this.state\r\n\r\n\t\tthis.unregister = registerMenu\r\n\t\t({\r\n\t\t\thide    : () => this.setState({ show: false }),\r\n\t\t\ttoggle  : (callback) => this.setState(state => ({ show: !state.show }), callback),\r\n\t\t\tisShown : () => this.state.show,\r\n\t\t\telement : () => this.menu\r\n\t\t})\r\n\r\n\t\t// // Hide on `Back`/`Forward` navigation.\r\n\t\t// window.addEventListener('popstate', this.hide)\r\n\t}\r\n\r\n\tcomponentWillUnmount()\r\n\t{\r\n\t\tthis.unregister()\r\n\r\n\t\t// window.removeEventListener('popstate', this.hide)\r\n\t}\r\n\r\n\t// componentDidUpdate(prevProps)\r\n\t// {\r\n\t// \tconst { isOpen } = this.props\r\n\r\n\t// \tif (prevProps.isOpen && !isOpen) {\r\n\t// \t\tthis.hide()\r\n\t// \t} else if (!prevProps.isOpen && isOpen) {\r\n\t// \t\tthis.show()\r\n\t// \t}\r\n\t// }\r\n\r\n\thide = () =>\r\n\t{\r\n\t\tconst { toggleMenu } = this.props\r\n\t\tconst { show } = this.state\r\n\r\n\t\tif (show) {\r\n\t\t\ttoggleMenu()\r\n\t\t}\r\n\t}\r\n\r\n\tstoreInstance = (ref) => this.menu = ref\r\n\r\n\trender()\r\n\t{\r\n\t\tconst {\r\n\t\t\tanchor,\r\n\t\t\tfullscreen,\r\n\t\t\tclassName,\r\n\t\t\tstyle,\r\n\t\t\tchildren\r\n\t\t} = this.props\r\n\r\n\t\tconst { show } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tref={ this.storeInstance }\r\n\t\t\t\tclassName={ classNames('rrui__slideout-menu',\r\n\t\t\t\t{\r\n\t\t\t\t\t'rrui__slideout-menu--left'       : anchor === 'left',\r\n\t\t\t\t\t'rrui__slideout-menu--right'      : anchor === 'right',\r\n\t\t\t\t\t'rrui__slideout-menu--top'        : anchor === 'top',\r\n\t\t\t\t\t'rrui__slideout-menu--bottom'     : anchor === 'bottom',\r\n\t\t\t\t\t'rrui__slideout-menu--fullscreen' : fullscreen,\r\n\t\t\t\t\t'rrui__slideout-menu--expanded'   : show\r\n\t\t\t\t},\r\n\t\t\t\tclassName) }\r\n\t\t\t\tstyle={ style }>\r\n\t\t\t\t{ children }\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}"]}